import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as i,o as t,c as l,a as n,b as a,d as c,e as o}from"./app-fbiCp83H.js";const r="/assets/b7234f940fa8376598890f87814875eb-xhVfE3sE.png",d="/assets/QQ截图20230807104205(1)-gsHTGK1w.png",u="/assets/QQ截图20230807104451(1)-rq7SZ8n8.png",p={},h=o('<h2 id="问题描述" tabindex="-1"><a class="header-anchor" href="#问题描述" aria-hidden="true">#</a> 问题描述</h2><p>在编译项目时，链接(ld)阶段报错，并且报错信息的路径包含乱码，实际应为中文路径名，如下图所示：</p><figure><img src="'+r+'" alt="报错信息" tabindex="0" loading="lazy"><figcaption>报错信息</figcaption></figure><h2 id="问题原因" tabindex="-1"><a class="header-anchor" href="#问题原因" aria-hidden="true">#</a> 问题原因</h2><p>GCC编译器不支持使用中文路径，需要将此包放置到英文路径下</p><h2 id="解决方案" tabindex="-1"><a class="header-anchor" href="#解决方案" aria-hidden="true">#</a> 解决方案</h2><div class="hint-container warning"><p class="hint-container-title">注意</p><p>开始之前，你需要确保 Arduino IED 处于关闭状态。</p></div><h3 id="新建一个不带中文路径的文件夹" tabindex="-1"><a class="header-anchor" href="#新建一个不带中文路径的文件夹" aria-hidden="true">#</a> 新建一个不带中文路径的文件夹</h3><p>首先，新建一个你需要放置文件的文件夹路径，并且保证路径纯英文，不包含空格。<br> 如：<code>D:\\arduino_pack</code>。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>我们下面将默认你的新文件夹路径为<code>D:\\arduino_pack</code>。</p></div><h3 id="迁移当前的包文件" tabindex="-1"><a class="header-anchor" href="#迁移当前的包文件" aria-hidden="true">#</a> 迁移当前的包文件</h3><p>打开文件管理器，在文件路径栏中输入<code>C:\\Users\\%USERNAME%\\AppData\\Local\\Arduino15</code>，回车。</p><figure><img src="'+d+'" alt="Arduino15文件夹" tabindex="0" loading="lazy"><figcaption>Arduino15文件夹</figcaption></figure><p>全选这里的所有文件，将他们全部移动到你最开始新建的文件夹，比如我们这里举例的：</p><figure><img src="'+u+'" alt="移动后" tabindex="0" loading="lazy"><figcaption>移动后</figcaption></figure><h3 id="更改配置文件中的包文件路径" tabindex="-1"><a class="header-anchor" href="#更改配置文件中的包文件路径" aria-hidden="true">#</a> 更改配置文件中的包文件路径</h3><p>打开文件管理器，在文件路径栏中输入<code>C:\\Users\\%USERNAME%\\.arduinoIDE</code>，回车。</p><p>打开<code>arduino-cli.yaml</code>，可以看到当前的配置：</p>',18),_=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{yaml:"",class:"language-yaml"},[n("code",null,[n("span",{class:"token punctuation"},"..."),a(`
`),n("span",{class:"token key atrule"},"directories"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"builtin"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"libraries"),n("span",{class:"token punctuation"},":"),a(" C"),n("span",{class:"token punctuation"},":"),a(`\\Users\\测试\\AppData\\Local\\Arduino15\\libraries
  `),n("span",{class:"token key atrule"},"data"),n("span",{class:"token punctuation"},":"),a(" c"),n("span",{class:"token punctuation"},":"),a(`\\Users\\测试\\AppData\\Local\\Arduino15
  `),n("span",{class:"token key atrule"},"downloads"),n("span",{class:"token punctuation"},":"),a(" C"),n("span",{class:"token punctuation"},":"),a(`\\Users\\测试\\AppData\\Local\\Arduino15\\staging
  `),n("span",{class:"token key atrule"},"user"),n("span",{class:"token punctuation"},":"),a(" c"),n("span",{class:"token punctuation"},":"),a(`\\Users\\测试\\Documents\\Arduino
`),n("span",{class:"token punctuation"},"..."),a(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),k=n("p",null,[a("我们将"),n("code",null,"C:\\Users\\测试\\AppData\\Local\\Arduino15"),a("全部替换成新建的文件夹路径即可：")],-1),b=n("div",{class:"language-yaml line-numbers-mode","data-ext":"yml"},[n("pre",{yaml:"",class:"language-yaml"},[n("code",null,[n("span",{class:"token punctuation"},"..."),a(`
`),n("span",{class:"token key atrule"},"directories"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"builtin"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"libraries"),n("span",{class:"token punctuation"},":"),a(" D"),n("span",{class:"token punctuation"},":"),a(`\\arduino_pack\\libraries
  `),n("span",{class:"token key atrule"},"data"),n("span",{class:"token punctuation"},":"),a(" D"),n("span",{class:"token punctuation"},":"),a(`\\arduino_pack
  `),n("span",{class:"token key atrule"},"downloads"),n("span",{class:"token punctuation"},":"),a(" D"),n("span",{class:"token punctuation"},":"),a(`\\arduino_pack\\staging
  `),n("span",{class:"token key atrule"},"user"),n("span",{class:"token punctuation"},":"),a(" c"),n("span",{class:"token punctuation"},":"),a(`\\Users\\测试\\Documents\\Arduino
`),n("span",{class:"token punctuation"},"..."),a(`
`)])]),n("div",{class:"highlight-lines"},[n("br"),n("br"),n("br"),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("div",{class:"highlight-line"}," "),n("br"),n("br")]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("p",null,"修改完后，保存配置，即可正常编译。",-1),m=n("div",{class:"hint-container tip"},[n("p",{class:"hint-container-title"},"提示"),n("p",null,"你需要保证项目文件的路径也不能包含中文或空格")],-1),v=n("h2",{id:"使用",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#使用","aria-hidden":"true"},"#"),a(" 使用")],-1),f=n("p",null,"重新打开 Arduino IED 即可正常编译。",-1),y={class:"hint-container tip"},x=n("p",{class:"hint-container-title"},"如果依旧报错",-1),A=n("p",null,[a("若你的用户名文件夹为中文，则可能依旧报错，此时需要更改你的"),n("code",null,"TEMP"),a("环境变量路径。")],-1),D=n("p",null,[a("首先，新建一个你需要放置"),n("code",null,"TEMP"),a("的文件夹路径，并且保证路径纯英文，不包含空格。"),n("br"),a(" 如："),n("code",null,"D:\\TEMP"),a("。")],-1),E=n("code",null,"TEMP",-1),U=n("code",null,"TMP",-1),C={href:"https://zhuanlan.zhihu.com/p/625914310",target:"_blank",rel:"noopener noreferrer"},L=n("p",null,"修改后重新启动 Arduino IED 即可正常编译。",-1);function M(T,I){const s=i("ExternalLinkIcon");return t(),l("div",null,[h,_,k,b,g,m,v,f,n("div",y,[x,A,D,n("p",null,[a("将你的环境变量的"),E,a("与"),U,a("值改为你新建的文件夹路径即可，可以参考"),n("a",C,[a("这篇文章"),c(s)]),a("。")]),L])])}const P=e(p,[["render",M],["__file","chinese_path.html.vue"]]);export{P as default};
